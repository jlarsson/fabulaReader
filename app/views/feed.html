<ng-switch on="state">
    <div ng-switch-when="loading">
        <img src="/images/loading.gif" class="loading"/>
    </div>
    <div ng-switch-when="error" class="jumbotron">
        <h3>Network problem?</h3>
        Anyway, we cant load the feed.
    </div>
    <div ng-switch-default>
        <div class="page-header">
            <button class="btn btn-primary btn-xs" ng-show="!isSubscribed" ng-click="subscribe(true)">
                <span class="glyphicon glyphicon-plus">Subscribe</span>
            </button>
            <button class="btn btn-warning btn-xs" ng-show="isSubscribed" ng-click="subscribe(false)">
                <span class="glyphicon glyphicon-minus">Unsubscribe</span>
            </button>
            <p>
                <img src="{{url|favicon}}" hidebroken/>{{feed.description}}</p>
        </div>
        <ng-switch on="viewMode">
            <div ng-switch-when="empty">
                <div class="jumbotron">
                    <h3>Nothing published yet?</h3>
                    Anyway, there seems to be no posts.
                </div>
            </div>
            <ul ng-switch-when="thumbnails" class="list-group">
                <li ng-repeat="post in posts track by $index" class="list-group-item clearfix">
                    <div class="col-xs-5 pull-left">
                        <span ng-if="post.thumbnail">
                            <img src="{{post.thumbnail.url}}" />
                        </span>
                    </div>
                    <div class="pull-left col-xs-7">
                        <a ng-href="#/post/{{post.url|encodeUrl}}" ng-click="pushPost(post)">
                            <h4 class="list-group-item-heading" ng-bind-html="post.title"></h4>
                        </a>
                        <p class="list-group-item-text" ng-bind-html="post.contentSnippet"></p>
                    </div>
                </li>
            </ul>
            <ul ng-switch-default class="list-group">
                <li ng-repeat="post in posts track by $index" class="list-group-item clearfix">
                    <a ng-href="#/post/{{post.url|encodeUrl}}" ng-click="pushPost(post)">
                        <h4 class="list-group-item-heading" ng-bind-html="post.title"></h4>
                    </a>
                    <p class="list-group-item-text" ng-bind-html="post.contentSnippet"></p>
                </li>
            </ul>
        </ng-switch>
    </div>
</ng-switch>